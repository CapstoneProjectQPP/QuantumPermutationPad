{% extends 'base.html' %}

{% block title %} QPP Research {% endblock %}
{% block header %} Interactive Research {% endblock %}

{% block header_content %} 
  <p> This page allows users to interact with the embedded system with textual input
  which will be Encrypted and Decrypted in QPP. Just hit the Submit button to send the message</p>
{% endblock %}

{% block content %}

<div style="display:flex">
  <div id="ifEncrypt">
    <form method="POST" action="{{ url_for('enc_research') }}">
      <div> <h2>UTF-8 User Input</h2>
        <textarea style="resize:none" name=user_input_enc rows="4" cols="50" required></textarea>
      </div>
      <div id="submit_button_enc" >
        <button  class="button" type="submit"> Submit </button>
      </div>
    </form>
    <form method="GET">
      <div> <h2>Encrypted CipherText</h2>
          {% for cipher in ciphertext %} 
              <p rows="4" cols="10"style="word-break:break-all"> {{ cipher }} </p>
          {% endfor %}
      </div>
    </form>
      <div><br></br>
          <p>Encrypt Time:
          <span style="resize:none" rows="1" cols="10">{{ encrypt_time }} </span>(s)
          </p>
          <p>Input Size:
          <span style="resize:none" rows="1" cols="10">{{ input_size }} </span>(s)
          </p>
      </div>
  </div>

  <div id="ifDecrypt">
    <form method="POST" action="{{ url_for('dec_research') }}">
        <div> <h2>Hexadecimal Encrypted User Input</h2>
            <textarea style="resize:none; overflow-wrap:break-word" name=user_input_dec rows="4" cols="50"  required></textarea>
        </div>
        <div class="api-filter">
          <label for="api-filter">Originial PlainText Size (in Bytes): </label>
          <input id="api-filter" type="number" name="og_size" required />
        </div>
        <div id="submit_button_dec">
          <button  class="button" type="submit"> Submit </button>
        <div>
      </form>
      <form method="GET">
        <div> <h2>Decrypted PlainText</h2>
            {% for plain in plaintext %}
                <p style="resize:none" rows="4" cols="10"> {{ plain }} </p>
            {% endfor %}
        </div>
      </form>
      <div>
          <p>
          <label>Decrypt Time: </label>
          <span style="resize:none" rows="1" cols="10"> {{ decrypt_time }} </span>(s)
          </p>
      </div>
  </div>
<div>
{% endblock %}
